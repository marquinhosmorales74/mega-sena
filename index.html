<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Mega-Sena ‚Äì Gerador de Apostas</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f4f4;
  padding: 20px;
}

.container {
  max-width: 420px;
  margin: auto;
  text-align: center;
}

h1 {
  color: #2e7d32;
}

input {
  width: 100%;
  padding: 10px;
  margin: 10px 0;
}

.grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 8px;
}

.numero {
  padding: 12px 0;
  border-radius: 8px;
  background: #ddd;
  cursor: pointer;
  font-weight: bold;
}

.numero.sel {
  background: #2e7d32;
  color: white;
}

button {
  padding: 10px 14px;
  margin: 5px;
  border: none;
  border-radius: 6px;
  font-size: 14px;
  cursor: pointer;
}

.add { background: #1976d2; color: white; }
.pdf { background: #2e7d32; color: white; }
.clear { background: #b71c1c; color: white; }

.apostas {
  margin-top: 15px;
  text-align: left;
}

.aposta-item {
  background: white;
  padding: 10px;
  border-radius: 6px;
  margin-bottom: 6px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.aposta-item span {
  font-size: 14px;
}

.excluir {
  background: #c62828;
  color: white;
  border-radius: 50%;
  width: 28px;
  height: 28px;
  font-size: 16px;
  line-height: 28px;
  text-align: center;
}

/* PDF */
@media print {
  body { background: white; }
  button, .grid { display: none; }
}
</style>
</head>

<body>

<div class="container">
  <h1>Mega-Sena</h1>

  <input id="nome" placeholder="Nome do Apostador">

  <div class="grid" id="grid"></div>

  <button class="add" onclick="adicionarAposta()">Adicionar aposta</button>
  <button class="clear" onclick="limpar()">Limpar sele√ß√£o</button>

  <div class="apostas" id="lista"></div>

  <button class="pdf" onclick="gerarPDF()">Gerar PDF</button>
</div>

<script>
const grid = document.getElementById("grid");
const lista = document.getElementById("lista");
let selecionados = [];
let apostas = JSON.parse(localStorage.getItem("apostas")) || [];

// Pr√≥ximo sorteio (quarta ou s√°bado)
function proximoSorteio() {
  const hoje = new Date();
  let d = new Date(hoje);
  while (![3,6].includes(d.getDay())) d.setDate(d.getDate()+1);
  return d.toLocaleDateString("pt-BR");
}

// Criar n√∫meros
for (let i=1;i<=60;i++) {
  const d=document.createElement("div");
  d.className="numero";
  d.textContent=i.toString().padStart(2,"0");
  d.onclick=()=>toggle(d,i);
  grid.appendChild(d);
}

function toggle(el,n) {
  if (selecionados.includes(n)) {
    selecionados=selecionados.filter(x=>x!==n);
    el.classList.remove("sel");
  } else {
    if (selecionados.length>=6) return alert("M√°ximo 6 dezenas");
    selecionados.push(n);
    el.classList.add("sel");
  }
}

function adicionarAposta() {
  if (selecionados.length!==6) return alert("Escolha 6 dezenas");
  apostas.push([...selecionados].sort((a,b)=>a-b));
  salvar();
  limpar();
  render();
}

function excluirAposta(index) {
  if (!confirm("Excluir esta aposta?")) return;
  apostas.splice(index,1);
  salvar();
  render();
}

function salvar() {
  localStorage.setItem("apostas",JSON.stringify(apostas));
}

function render() {
  lista.innerHTML="";
  apostas.forEach((a,i)=>{
    const div=document.createElement("div");
    div.className="aposta-item";
    div.innerHTML = `
      <span><b>Aposta ${i+1}:</b> ${a.join(" - ")}</span>
      <button class="excluir" onclick="excluirAposta(${i})">üóëÔ∏è</button>
    `;
    lista.appendChild(div);
  });
}

function limpar() {
  selecionados=[];
  document.querySelectorAll(".numero").forEach(n=>n.classList.remove("sel"));
}

function gerarPDF() {
  if (apostas.length===0) return alert("Nenhuma aposta adicionada");

  document.body.innerHTML = `
    <h1 style="color:#2e7d32">Mega-Sena</h1>
    <p><b>Apostador:</b> ${nome.value || "-"}</p>
    <p><b>Data do sorteio:</b> ${proximoSorteio()}</p>
    ${apostas.map((a,i)=>`
      <div style="
        margin:8px 0;
        padding:8px;
        border:1px solid #2e7d32;
        border-radius:6px;
        font-size:14px">
        <b>Aposta ${i+1}</b><br>
        ${a.join(" - ")}
      </div>`).join("")}
  `;
  window.print();
  location.reload();
}

render();
</script>

</body>
</html>
